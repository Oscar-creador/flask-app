{% extends 'base/base.html' %}

{% block content%}
{% from "_macro.html" import render_field %}
<div class="row">
    <div class="col-md-12 col-md-offset-1">
        <br><br>
        <form method="POST">
            <div class="row control-group">
                <div class="form-group col-xs-4 fliating-label-form-group controls">
                    {{ render_field(form.grupo, class='form-control') }}
                </div>
            </div>
            <br>
            <div class="row">
                <div class="form-group col-xs-4">
                    <button class="btn btn-success" style="margin-bottom: 30px;">Buscar</button>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="row">
    <div style="margin-left: 23%;">
        <canvas id="myChart" style="width:100%;max-width:900px" ></canvas>
        <script>
            var ctx = document.getElementById("myChart").getContext("2d");
            var myChart = new Chart(ctx, {
                type: "bar",
                data: {
                    labels: {{ labels | safe}},
                    datasets: [{
                        label: "Faltas del cuatrimestre",
                        barPercentage: 0.9,
                        barThickness: 9,
                        maxBarThickness: 8,
                        minBarLength: 2,
                        data: {{ values | safe}},
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                },
            })
        </script>
    </div>
</div>

{% endblock %}